@namespace Tabler.Components
@typeparam TValue
@inherits TablerBaseComponent


<div class="input-group input-group-flat">
    <select class="@ClassNames" @onchange="ValueChanged" @attributes="UnmatchedParameters">
        @if (itemList.Count == 0)
        {
            <option value="null">@ItemListEmptyText</option>
        }
        else if (ItemNotInList())
        {
            <option value="null" selected="@(SelectedValue==null)">@NoSelectedText</option>
        }
        @foreach (var listItem in itemList)
        {
            if (SelectedValue != null && listItem.Value == GetValue(SelectedValue))
            {
                <option bind="selectedItem" selected value="@listItem.Value">@listItem.Text</option>
            }
            else
            {
                <option value="@listItem.Value">@listItem.Text</option>
            }
        }
    </select>

    @if (Clearable)
    {
        <span class="input-group-text">

            @if (SelectedValue != null)
            {
                <a @onclick="Clear" class="link-secondary cursor-pointer">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </a>
            }
        </span>
    }
</div>